<html>

<head>
    <style>
        body {
            background-color: #303030;
            color: #EBEBEB;
        }
        .showbook {
            font-size: 3vw;
        }
    </style>
    <script>
        var filename = "ranga-shathakam-sanskrit.txt"
        function pullData() {
            var apiUrl = 'https://raw.githubusercontent.com/rajaramanmythili/books/main/srisrianna/' + filename
            fetch(apiUrl).then(response => {
                return response.text()
            }).then(data => {
                document.getElementById('showbook').innerText = data
            }).catch(err => {
                console.error('Failed to pull data', err);
            });
        }
        function onpageload() {
            const searchParams = new URLSearchParams(location.search);
            if ( searchParams.has('file') ) {
                filename=searchParams.get('file')
            }

            if ( searchParams.has('size') ) {
                let size=searchParams.get('size')
                var r = document.querySelector('.showbook');
                r.style.setProperty('font-size', size);
            }

            if ( searchParams.has('wrap') ) {
                let wrap=searchParams.get('wrap')
                var r = document.querySelector('.showbook');
                r.style.setProperty('white-space', wrap);
            }

            pullData()
        }
    </script>
</head>

<body onload="onpageload()">
    <div id="showbook" class="showbook"></div>
</body>

</html>